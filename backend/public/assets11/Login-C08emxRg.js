import{_ as $,a as A,C as R}from"./CountryCodePopup-C-c8YyS9.js";import{i as D,r as _,L as E,j as F,c as r,d as o,m as c,S as j,t as i,G as l,H as C,q as m,p as y,v as w,U as v,W as q,E as G,D as H,b as d,g as x}from"./index-4tvR8j1Z.js";const I={class:"login-wrapper"},O={class:"header-wrapper"},W={class:"lang-select"},z={class:"login-h1"},J={class:"form-wrapper"},K={class:"pos"},M={class:"form-box"},Q={class:"form_step_box"},X={class:"form-group"},Y={key:0,class:"form-item"},Z={class:"label-text"},oo={class:"form-control"},so={key:1,class:"form-item"},eo={class:"label-text"},to={class:"form-control"},no={class:"form-group"},lo={class:"form-item"},ao={class:"label-text"},io={class:"tip"},co={class:"form-control"},ro={class:"form_btn"},po={class:"regLink"},vo={__name:"Login",setup(uo){const{t}=D.global,p=_("password"),h=_("AC +1"),g=_(!1),u=_(!1),V=E(),S=G(),e=F({ac_type:1,account:"",password:"",country_code:"1"}),L=()=>{p.value=p.value==="password"?"text":"password"},b=n=>{e.ac_type=n},T=()=>{g.value=!0};function U(n){h.value=n.abbreviation+" +"+n.code,e.country_code=n.code}function N(){if(!e.account&&e.ac_type==1)return v(t("login.mobile_tip")),!1;if(!e.account&&e.ac_type==2)return v(t("login.email_tip")),!1;if(!e.password)return v(t("login.password_tip")),!1;u.value=!0,q(e).then(n=>{u.value=!1,v(n.msg),V.login(n.data.userInfo,n.data.token),S.push("/")}).catch(n=>{console.log(n),u.value=!1,H(n.msg)})}return(n,s)=>{const f=m("van-field"),k=m("van-icon"),B=m("van-button"),P=m("RouterLink");return d(),r("div",I,[o("div",O,[s[8]||(s[8]=o("div",{class:"app_logo"},[o("img",{src:$})],-1)),o("div",W,[c(j,{color:"#009995"})])]),s[9]||(s[9]=o("div",{class:"banner_box"},[o("img",{src:A,width:"100%"})],-1)),o("div",z,i(l(t)("login.logintext")),1),o("div",J,[o("div",K,[e.ac_type==1?(d(),r("span",{key:0,onClick:s[0]||(s[0]=a=>b(2))},i(l(t)("login.loginemail")),1)):C("",!0),e.ac_type==2?(d(),r("span",{key:1,onClick:s[1]||(s[1]=a=>b(1))},i(l(t)("login.loginmobile")),1)):C("",!0)]),o("div",M,[o("div",Q,[o("div",X,[e.ac_type==1?(d(),r("div",Y,[o("div",Z,i(l(t)("login.mobile")),1),o("div",oo,[o("div",{class:"country-code",onClick:s[2]||(s[2]=a=>T())},i(h.value),1),c(f,{class:"account",modelValue:e.account,"onUpdate:modelValue":s[3]||(s[3]=a=>e.account=a),placeholder:l(t)("login.mobile_tip")},null,8,["modelValue","placeholder"])])])):(d(),r("div",so,[o("div",eo,i(l(t)("login.email")),1),o("div",to,[c(f,{class:"account",modelValue:e.account,"onUpdate:modelValue":s[4]||(s[4]=a=>e.account=a),placeholder:l(t)("login.email_tip")},null,8,["modelValue","placeholder"])])]))]),o("div",no,[o("div",lo,[o("div",ao,[o("span",null,i(l(t)("login.password")),1),o("span",io,i(l(t)("login.forgot")),1)]),o("div",co,[c(f,{modelValue:e.password,"onUpdate:modelValue":s[5]||(s[5]=a=>e.password=a),type:p.value,name:"password",placeholder:l(t)("login.password_tip")},{"right-icon":y(()=>[o("span",{class:"solts",onClick:L},[p.value==="password"?(d(),x(k,{key:0,name:"eye"})):(d(),x(k,{key:1,name:"closed-eye"}))])]),_:1},8,["modelValue","type","placeholder"])])])])]),o("div",ro,[c(B,{class:"btn",type:"default",loading:u.value,onClick:s[6]||(s[6]=a=>N())},{default:y(()=>[w(i(l(t)("login.logintext")),1)]),_:1},8,["loading"])]),o("div",po,[w(i(l(t)("login.donthave"))+" ",1),c(P,{to:"/signup"},{default:y(()=>[w(i(l(t)("login.signuptext")),1)]),_:1})])])]),c(R,{show:g.value,"onUpdate:show":s[7]||(s[7]=a=>g.value=a),code:e.country_code,onOnCountrySelect:U},null,8,["show","code"])])}}};export{vo as default};
