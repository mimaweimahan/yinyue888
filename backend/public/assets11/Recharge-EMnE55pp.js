import{Q as R}from"./browser-BeMEBtOm.js";import{_ as S,L as N,i as $,r as i,j as A,w as B,o as F,a3 as z,c as d,d as s,m as _,q as u,t as n,G as o,H as h,F as g,f as y,p as D,E,b as l,J as f,v as I,U as p,a4 as M}from"./index-4tvR8j1Z.js";import{c as Q}from"./common--HH7NuKt.js";const T={class:"page-wrapper"},j={class:"page-wrapper-body"},G={class:"page-wrapper-header"},H={class:"title"},J={class:"recharge"},K={class:"tit"},O={class:"tabnav"},P=["onClick"],W={key:0,class:"tit"},X={key:1,class:"tabnav"},Y=["onClick"],Z=["src"],ee={key:2,class:"rechargebox"},se={class:"qrcode"},ae={class:"i-scan"},te=["src"],ne={class:"text"},re={class:"recharge-form"},ce={class:"form-group"},oe={class:"label-text"},de={class:"form-control"},le={class:"btns"},ie={class:"tips"},_e={class:"tit"},ue={class:"lab"},he={__name:"Recharge",setup(pe){const b=N(),{t:r}=$.global,k=E(),m=()=>{k.push("/user")};b.userInfo;const C=i([]);i(!1),i(!1),i(!1);const e=A({list:[],currency:[],fileList:[],net:"",currency_name:",",address:"",qrCodeUrl:"",tips:"",address_type:"",transaction_hash:"",transfer_screenshot:"",amount:""}),v=a=>{e.address=a.address,a.currency?(e.currency=a.currency,e.address=a.currency[0].address,e.currency_name=a.currency[0].name):(e.currency=[],e.currency_name=a.name),e.address_type=a.name,e.net=a.name},w=a=>{e.address=a.address,e.currency_name=a.name};B(()=>e.address,()=>{e.address&&R.toDataURL(e.address,{width:200,margin:2}).then(a=>{e.qrCodeUrl=a})});const x=()=>{if(!e.amount)return p(r("recharge.amount_tip"));let a={address:e.address,address_type:e.address_type,symbol:e.currency_name,amount:e.amount,transaction_hash:e.transaction_hash,transfer_screenshot:e.transfer_screenshot};M(a).then(c=>{e.transaction_hash="",e.transfer_screenshot="",C.value=[],p(c.msg),m()}).catch(c=>{p(c.msg)})};return F(()=>{z().then(a=>{e.list=a.data.data,e.tips=a.data.tips,console.log(e.list[0]),v(e.list[0])}).catch(a=>{console.log(a)})}),(a,c)=>{const U=u("van-icon"),V=u("van-field"),q=u("van-button");return l(),d("div",T,[s("div",j,[s("section",G,[_(U,{name:"arrow-left",class:"icon-box",size:"18",onClick:c[0]||(c[0]=t=>m())}),s("div",H,[s("span",null,n(o(r)("mine.recharge")),1)])]),s("article",J,[s("div",K,n(o(r)("recharge.net")),1),s("div",O,[(l(!0),d(g,null,y(e.list,t=>(l(),d("div",{class:f(["tab_item",e.net==t.name?"check":""]),key:t.name,onClick:L=>v(t)},[s("span",null,n(t.title),1)],10,P))),128))]),e.currency.length>0?(l(),d("div",W,n(o(r)("recharge.currency")),1)):h("",!0),e.currency.length>0?(l(),d("div",X,[(l(!0),d(g,null,y(e.currency,t=>(l(),d("div",{class:f(["tab_item",e.currency_name==t.name?"check":""]),key:t.name,onClick:L=>w(t)},[s("img",{src:t.icon},null,8,Z),s("span",null,n(t.name),1)],10,Y))),128))])):h("",!0),e.qrCodeUrl?(l(),d("div",ee,[s("div",se,[s("div",ae,[s("img",{src:e.qrCodeUrl,width:"200"},null,8,te)]),s("div",{class:"add",onClick:c[1]||(c[1]=t=>o(Q)(e.address))},[s("span",ne,n(e.address),1)])]),s("div",re,[s("div",ce,[s("div",oe,n(o(r)("recharge.amount")),1),s("div",de,[_(V,{class:"account",type:"number",modelValue:e.amount,"onUpdate:modelValue":c[2]||(c[2]=t=>e.amount=t),placeholder:o(r)("recharge.amount_tip")},null,8,["modelValue","placeholder"])])])]),s("div",le,[_(q,{class:"btn",type:"theme",onClick:x},{default:D(()=>[I(n(o(r)("recharge.submit_for_review")),1)]),_:1})]),s("div",ie,[s("span",_e,n(o(r)("recharge.alarm",{unit:e.currency_name})),1),s("div",ue,[s("p",null,n(e.tips),1),s("p",null,n(o(r)("recharge.alarm_desc")),1),s("p",null,n(o(r)("recharge.alarm_desc2")),1)])])])):h("",!0)])])])}}},ye=S(he,[["__scopeId","data-v-430f1413"]]);export{ye as default};
