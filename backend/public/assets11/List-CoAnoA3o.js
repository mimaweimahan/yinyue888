import{_ as x}from"./ico_succ-CV50rVy-.js";import{_ as w,i as V,j as N,o as T,c as l,d as s,m as d,v as i,t as a,H as c,J as h,q as _,F as b,f as P,p as v,x as z,z as A,K as B,b as r,I,C as q,D}from"./index-4tvR8j1Z.js";const S={class:"page-wrapper"},j={class:"trade_top"},E={class:"total"},H={class:"item"},J={class:"txt",style:{color:"rgb(254, 79, 118)"}},K={class:"label"},M={class:"item"},U={class:"txt"},G={class:"label"},O={class:"item"},Q={class:"txt"},R={class:"label"},W={class:"item"},X={class:"txt"},Y={class:"label"},Z={class:"listbox"},ss={class:"tabnav"},ts={key:0,class:"list-loading"},es={key:1,class:"no-data"},as={class:"order-list"},os={class:"box-item"},ns={class:"order_sn"},is={class:"label"},ls={class:"no"},ds={class:"goods"},rs={class:"pic"},_s={class:"mark"},cs={class:"title"},ps={class:"num"},vs={class:"ft-box"},gs={class:"info"},ms={class:"item"},us={class:"label"},hs={class:"num"},bs={class:"item"},$s={class:"label"},fs={class:"num"},ks={class:"item"},ys={class:"label"},Ls={class:"num"},Cs={key:0,class:"item"},Fs={class:"label color-red"},xs={class:"num"},ws={class:"item"},Vs={class:"label"},Ns={class:"num"},Ts={key:0,class:"btn-box"},Ps={__name:"List",setup(zs){const{t:$}=V.global,e=N({listLoading:!1,loading:!1,orderList:[],total:0,page:1,perPage:10,type:0,task:{task_revenue:0,total_revenue:0,been_released:0,be_released:"0.0000"}}),g=o=>{e.page=1,e.type=o,p()},f=()=>{p()},p=()=>{let o={type:e.type,page:e.page};e.listLoading=!0,B(o).then(t=>{e.listLoading=!1,e.orderList=t.data.data,e.perPage=t.data.per_page,e.total=t.data.total,e.current_page=t.data.current_page}).catch(t=>{e.listLoading=!1,console.log(t)})},k=o=>{e.loading=!0,I({order_id:o}).then(t=>{e.loading=!1,e.task=t.data,q($("trade.success")),m()}).catch(t=>{e.loading=!1,D(t.msg),console.log(t)})},m=()=>{A().then(o=>{e.task=o.data}),p()};return T(()=>{m()}),(o,t)=>{const y=_("van-loading"),L=_("van-image"),C=_("van-button"),u=_("van-icon"),F=_("van-pagination");return r(),l(b,null,[s("div",S,[s("div",j,[s("div",E,[s("div",H,[s("div",J,[t[4]||(t[4]=s("span",null,"$",-1)),i(a(parseFloat(e.task?.task_revenue??0).toFixed(2)),1)]),s("div",K,a(o.$t("trade.this_income")),1)]),s("div",M,[s("div",U,[t[5]||(t[5]=s("span",null,"$",-1)),i(a(parseFloat(e.task?.total_revenue??0).toFixed(2)),1)]),s("div",G,a(o.$t("trade.list.total_revenue")),1)]),s("div",O,[s("div",Q,[t[6]||(t[6]=s("span",null,"$",-1)),i(a(parseFloat(e.task?.been_released??0).toFixed(2)),1)]),s("div",R,a(o.$t("trade.list.been_released")),1)]),s("div",W,[s("div",X,[t[7]||(t[7]=s("span",null,"$",-1)),i(a(parseFloat(e.task?.be_released??0).toFixed(2)),1)]),s("div",Y,a(o.$t("trade.list.be_released")),1)])])]),s("div",Z,[s("div",ss,[s("div",{class:h(["tab_item",e.type==0?"check":""]),onClick:t[0]||(t[0]=n=>g(0))},[s("span",null,a(o.$t("trade.list.atv")),1)],2),s("div",{class:h(["tab_item",e.type==1?"check":""]),onClick:t[1]||(t[1]=n=>g(1))},[s("span",null,a(o.$t("trade.list.exp")),1)],2)]),e.listLoading?(r(),l("div",ts,[d(y,{size:"24"})])):c("",!0),e.orderList.length==0&&e.listLoading==!1?(r(),l("div",es,a(o.$t("common.norecord")),1)):c("",!0),s("div",as,[(r(!0),l(b,null,P(e.orderList,(n,As)=>(r(),l("div",os,[s("div",ns,[s("span",is,a(o.$t("trade.list.orderno")),1),s("span",ls,a(n.trade_no),1)]),s("div",ds,[s("div",rs,[d(L,{src:n.image,width:"80"},null,8,["src"])]),s("div",_s,[s("div",cs,a(n.goods_name),1),s("div",ps,[t[8]||(t[8]=i("x ",-1)),s("span",null,a(n.num),1)])])]),s("section",vs,[s("aside",gs,[s("div",ms,[s("div",us,a(o.$t("trade.list.amount")),1),s("div",hs,[t[9]||(t[9]=s("span",null,"$",-1)),i(a(n.price),1)])]),s("div",bs,[s("div",$s,a(o.$t("trade.list.total_amount")),1),s("div",fs,[t[10]||(t[10]=s("span",null,"$",-1)),i(a(n.total_price),1)])]),s("div",ks,[s("div",ys,a(o.$t("trade.list.profit")),1),s("div",Ls,[t[11]||(t[11]=s("span",null,"$",-1)),i(a(n.profit),1)])]),n.need<0&&e.type==0?(r(),l("div",Cs,[s("div",Fs,a(o.$t("trade.list.need")),1),s("div",xs,[t[12]||(t[12]=s("span",null,"$",-1)),i(a(n.need),1)])])):c("",!0),s("div",ws,[s("div",Vs,a(o.$t("trade.list.created_time")),1),s("div",Ns,a(n.created_at),1)])]),t[13]||(t[13]=s("div",{class:"right"},[s("img",{src:x,width:"73"})],-1))]),n.is_ready==0&&n.status==0?(r(),l("div",Ts,[d(C,{class:"btn",type:"theme",loading:e.loading,onClick:Bs=>k(n.id)},{default:v(()=>[i(a(o.$t("trade.list.finish")),1)]),_:2},1032,["loading","onClick"])])):c("",!0)]))),256))]),d(F,{modelValue:e.page,"onUpdate:modelValue":t[2]||(t[2]=n=>e.page=n),"total-items":e.total,"items-per-page":e.perPage,mode:"simple",onChange:t[3]||(t[3]=n=>f())},{"prev-text":v(()=>[d(u,{name:"arrow-left"})]),"next-text":v(()=>[d(u,{name:"arrow"})]),_:1},8,["modelValue","total-items","items-per-page"])])]),d(z,{active:"list"})],64)}}},Ds=w(Ps,[["__scopeId","data-v-5bb25ee8"]]);export{Ds as default};
