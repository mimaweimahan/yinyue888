import{_ as y,i as x,r as d,e as w,a as r,f as s,g as t,l as u,t as _,u as m,j as h,w as C,F as B,a7 as N,y as V,q as z,b as l,D as F}from"./index-D9ZUrC8f.js";const S={class:"page-wrapper"},T={class:"page-wrapper-body"},U={class:"page-wrapper-header"},D={class:"title"},j={class:"content-section"},q={key:0,class:"loading-box"},A={class:"loading-text"},E={key:1,class:"error-box"},I={class:"error-text"},K=["src"],M={__name:"CustomerService",setup(R){const f=z(),{t:v}=x.global,a=d(!0),o=d(""),c=d(""),g=()=>{f.back()},p=async()=>{a.value=!0,o.value="";try{const e=(await N({}))?.data||{},n=e.url||e.kf_url||e.customer_service||e.top_kf||"/index/user/kfindex";c.value=n,a.value=!1}catch(i){a.value=!1,o.value=i.msg||"加载客服链接失败",V(o.value)}};return w(()=>{p()}),(i,e)=>{const n=u("van-icon"),k=u("van-loading"),b=u("van-button");return l(),r("div",S,[e[3]||(e[3]=s("div",{class:"page-bg"},null,-1)),e[4]||(e[4]=s("div",{class:"page-mask"},null,-1)),s("div",T,[s("section",U,[t(n,{name:"arrow-left",class:"icon-box",size:"18",onClick:e[0]||(e[0]=$=>g())}),s("div",D,[s("span",null,_(m(v)("mine.customer_service")||"客服接口"),1)])]),s("section",j,[a.value?(l(),r("div",q,[t(k,{size:"28",color:"#1ed760"}),s("div",A,_(m(v)("common.loading")||"加载中..."),1)])):o.value?(l(),r("div",E,[t(n,{name:"warning-o",size:"48",color:"#ff4444"}),s("div",I,_(o.value),1),t(b,{class:"retry-btn",type:"primary",onClick:p},{default:C(()=>[...e[1]||(e[1]=[F("重试",-1)])]),_:1})])):c.value?(l(),r("iframe",{key:2,src:c.value,class:"kf-iframe",frameborder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"},null,8,K)):h("",!0)]),e[2]||(e[2]=s("div",{class:"ft-h"},null,-1)),t(B,{active:"home"})])])}}},H=y(M,[["__scopeId","data-v-2c340e3a"]]);export{H as default};
