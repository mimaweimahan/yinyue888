import{_ as N,i as V,d as F,e as P,a as l,f as t,g as i,l as b,t as o,u as c,j as u,h as p,z,A,w as k,F as B,a3 as M,q as R,b as d}from"./index-D9ZUrC8f.js";const q={class:"page-wrapper"},S={class:"page-wrapper-body"},T={class:"page-wrapper-header"},j={class:"title"},D={class:"records"},E={class:"tabnav"},I={class:"list"},U={key:0,class:"state-box"},G={key:1,class:"state-box"},H={class:"row"},J={class:"label"},K={class:"value"},O={key:0,class:"row"},Q={class:"label"},W={class:"value"},X={key:1,class:"row"},Y={class:"label"},Z={class:"value strong"},ss={key:2,class:"row"},as={class:"label"},ts={class:"value strong"},es={key:3,class:"row status-row"},os={class:"label"},ns=["onClick"],rs={key:0},ls={key:0,class:"page-box"},cs={__name:"Records",setup(ds){const h=R(),{t:r}=V.global,a=F({loading:!1,dataList:[],total:0,page:1,perPage:10,tabnav:1,otranpass:"",ntranpass:"",ctranpass:""}),w=()=>{h.push("/user")},_=n=>{a.tabnav=n,v()},f=()=>{v()},v=()=>{let n={type:a.tabnav,page:a.page};a.dataList=[],a.loading=!0,M(n).then(s=>{a.loading=!1,a.dataList=s.data.data,a.perPage=s.data.per_page,a.total=s.data.total,a.current_page=s.data.current_page}).catch(s=>{a.loading=!1,console.log(s)})},y=n=>{n.mark_show=!n.mark_show},m=n=>{const s=parseFloat(n||0);return Number.isNaN(s)?"0.00":s.toFixed(2)},C=n=>n.status===1?"ok":n.status===0?"pending":n.status===2||n.status===-1?"fail":"";return P(()=>{v()}),(n,s)=>{const g=b("van-icon"),x=b("van-loading"),L=b("van-pagination");return d(),l("div",q,[s[7]||(s[7]=t("div",{class:"page-bg"},null,-1)),s[8]||(s[8]=t("div",{class:"page-mask"},null,-1)),t("div",S,[t("section",T,[i(g,{name:"arrow-left",class:"icon-box",size:"18",onClick:s[0]||(s[0]=e=>w())}),t("div",j,[t("span",null,o(c(r)("mine.records")),1)])]),t("section",D,[t("div",E,[t("button",{class:p(["tab_item",{check:a.tabnav===1}]),onClick:s[1]||(s[1]=e=>_(1))},o(c(r)("records.recharge")),3),t("button",{class:p(["tab_item",{check:a.tabnav===2}]),onClick:s[2]||(s[2]=e=>_(2))},o(c(r)("records.withdraw")),3),t("button",{class:p(["tab_item",{check:a.tabnav===3}]),onClick:s[3]||(s[3]=e=>_(3))},o(c(r)("records.rewards")),3),t("button",{class:p(["tab_item",{check:a.tabnav===4}]),onClick:s[4]||(s[4]=e=>_(4))},o(c(r)("records.commission")),3)]),t("div",I,[a.loading?(d(),l("div",U,[i(x,{size:"28",color:"#1ed760"})])):a.dataList.length===0?(d(),l("div",G,[t("span",null,o(n.$t("common.norecord")),1)])):(d(!0),l(z,{key:2},A(a.dataList,(e,$)=>(d(),l("div",{key:$,class:"card"},[t("div",H,[t("span",J,o(c(r)("records.date")),1),t("span",K,o(e.created_at),1)]),a.tabnav===4?(d(),l("div",O,[t("span",Q,o(c(r)("records.id")),1),t("span",W,o(e.from_user_id),1)])):u("",!0),a.tabnav<4?(d(),l("div",X,[t("span",Y,o(c(r)("records.usdt")),1),t("span",Z,o(m(e.balance)),1)])):(d(),l("div",ss,[t("span",as,o(c(r)("records.usdt")),1),t("span",ts,o(m(e.balance)),1)])),a.tabnav<4?(d(),l("div",es,[t("span",os,o(c(r)("records.status")),1),t("span",{class:p(["status-pill",C(e)]),onClick:is=>y(e)},[t("span",null,o(c(r)(e.tips)),1),e.mark&&(e.status===2||e.status===-1)?(d(),l("small",rs,o(e.mark),1)):u("",!0)],10,ns)])):u("",!0)]))),128))]),a.total>a.perPage?(d(),l("div",ls,[i(L,{modelValue:a.page,"onUpdate:modelValue":s[5]||(s[5]=e=>a.page=e),"total-items":a.total,"items-per-page":a.perPage,mode:"simple",onChange:f},{"prev-text":k(()=>[i(g,{name:"arrow-left"})]),"next-text":k(()=>[i(g,{name:"arrow"})]),_:1},8,["modelValue","total-items","items-per-page"])])):u("",!0)]),s[6]||(s[6]=t("div",{class:"ft-h"},null,-1)),i(B,{active:"user"})])])}}},_s=N(cs,[["__scopeId","data-v-d8e6a0c3"]]);export{_s as default};
