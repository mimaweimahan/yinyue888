import{_ as N,i as P,d as T,e as z,a as l,f as s,g as c,l as _,t as e,u as i,j as g,h as b,z as A,A as B,w as u,F as D,p as q,q as E,G as I,b as r,D as m,E as S,x as j,y as G}from"./index-D9ZUrC8f.js";const H="/assets/ico_succ-DvoHvynf.png",M={class:"page-wrapper"},R={class:"page-wrapper-body"},U={class:"page-wrapper-header"},J={class:"title"},K={class:"stats-section"},O={class:"stats-grid"},Q={class:"stat-card"},W={class:"stat-value highlight"},X={class:"stat-label"},Y={class:"stat-card"},Z={class:"stat-value"},ss={class:"stat-label"},ts={class:"stat-card"},as={class:"stat-value"},es={class:"stat-label"},os={class:"stat-card"},ns={class:"stat-value"},is={class:"stat-label"},ds={class:"orders-section"},ls={class:"tabnav"},cs={class:"list"},rs={key:0,class:"state-box"},_s={key:1,class:"state-box"},ps={class:"order-header"},vs={class:"order-label"},gs={class:"order-no"},us={class:"goods-info"},hs={class:"goods-pic"},fs={class:"goods-detail"},bs={class:"goods-title"},ms={class:"goods-num"},ks={class:"order-info"},ys={class:"info-row"},xs={class:"info-label"},ws={class:"info-value"},Ls={class:"info-row"},Cs={class:"info-label"},Fs={class:"info-value"},$s={class:"info-row"},Vs={class:"info-label"},Ns={class:"info-value profit"},Ps={key:0,class:"info-row"},Ts={class:"info-label warning"},zs={class:"info-value warning"},As={class:"info-row"},Bs={class:"info-label"},Ds={class:"info-value time"},qs={key:0,class:"order-action"},Es={key:0,class:"page-box"},Is={__name:"List",setup(Ss){const k=E(),{t:n}=P.global,y=()=>{k.back()},t=T({listLoading:!1,loading:!1,orderList:[],total:0,page:1,perPage:10,type:0,task:{task_revenue:0,total_revenue:0,been_released:0,be_released:"0.0000"}}),h=d=>{t.page=1,t.type=d,p()},x=()=>{p()},p=()=>{let d={type:t.type,page:t.page};t.listLoading=!0,I(d).then(a=>{t.listLoading=!1,t.orderList=a.data.data,t.perPage=a.data.per_page,t.total=a.data.total,t.current_page=a.data.current_page}).catch(a=>{t.listLoading=!1,console.log(a)})},w=d=>{t.loading=!0,S({order_id:d}).then(a=>{t.loading=!1,t.task=a.data,j(n("trade.success")),f()}).catch(a=>{t.loading=!1,G(a.msg),console.log(a)})},f=()=>{q().then(d=>{t.task=d.data}),p()};return z(()=>{f()}),(d,a)=>{const v=_("van-icon"),L=_("van-loading"),C=_("van-image"),F=_("van-button"),$=_("van-pagination");return r(),l("div",M,[a[7]||(a[7]=s("div",{class:"page-bg"},null,-1)),a[8]||(a[8]=s("div",{class:"page-mask"},null,-1)),s("div",R,[s("section",U,[c(v,{name:"arrow-left",class:"icon-box",size:"18",onClick:a[0]||(a[0]=o=>y())}),s("div",J,[s("span",null,e(i(n)("trade.records")),1)])]),s("section",K,[s("div",O,[s("div",Q,[s("div",W,"$"+e(parseFloat(t.task?.task_revenue??0).toFixed(2)),1),s("div",X,e(i(n)("trade.this_income")),1)]),s("div",Y,[s("div",Z,"$"+e(parseFloat(t.task?.total_revenue??0).toFixed(2)),1),s("div",ss,e(i(n)("trade.list.total_revenue")),1)]),s("div",ts,[s("div",as,"$"+e(parseFloat(t.task?.been_released??0).toFixed(2)),1),s("div",es,e(i(n)("trade.list.been_released")),1)]),s("div",os,[s("div",ns,"$"+e(parseFloat(t.task?.be_released??0).toFixed(2)),1),s("div",is,e(i(n)("trade.list.be_released")),1)])])]),s("section",ds,[s("div",ls,[s("button",{class:b(["tab_item",{check:t.type==0}]),onClick:a[1]||(a[1]=o=>h(0))},e(i(n)("trade.list.atv")),3),s("button",{class:b(["tab_item",{check:t.type==1}]),onClick:a[2]||(a[2]=o=>h(1))},e(i(n)("trade.list.exp")),3)]),s("div",cs,[t.listLoading?(r(),l("div",rs,[c(L,{size:"28",color:"#1ed760"})])):t.orderList.length==0?(r(),l("div",_s,[s("span",null,e(i(n)("common.norecord")),1)])):(r(!0),l(A,{key:2},B(t.orderList,(o,V)=>(r(),l("div",{key:V,class:"order-card"},[s("div",ps,[s("span",vs,e(i(n)("trade.list.orderno")),1),s("span",gs,e(o.trade_no),1)]),s("div",us,[s("div",hs,[c(C,{src:o.image,fit:"cover"},null,8,["src"])]),s("div",fs,[s("div",bs,e(o.goods_name),1),s("div",ms,[a[4]||(a[4]=m("x ",-1)),s("span",null,e(o.num),1)])])]),s("div",ks,[s("div",ys,[s("span",xs,e(i(n)("trade.list.amount")),1),s("span",ws,"$"+e(o.price),1)]),s("div",Ls,[s("span",Cs,e(i(n)("trade.list.total_amount")),1),s("span",Fs,"$"+e(o.total_price),1)]),s("div",$s,[s("span",Vs,e(i(n)("trade.list.profit")),1),s("span",Ns,"$"+e(o.profit),1)]),o.need<0&&t.type==0?(r(),l("div",Ps,[s("span",Ts,e(i(n)("trade.list.need")),1),s("span",zs,"$"+e(o.need),1)])):g("",!0),s("div",As,[s("span",Bs,e(i(n)("trade.list.created_time")),1),s("span",Ds,e(o.created_at),1)])]),a[5]||(a[5]=s("div",{class:"order-status"},[s("img",{src:H,alt:"success"})],-1)),o.is_ready==0&&o.status==0?(r(),l("div",qs,[c(F,{class:"finish-btn",type:"primary",loading:t.loading,onClick:js=>w(o.id)},{default:u(()=>[m(e(i(n)("trade.list.finish")),1)]),_:1},8,["loading","onClick"])])):g("",!0)]))),128))]),t.total>t.perPage?(r(),l("div",Es,[c($,{modelValue:t.page,"onUpdate:modelValue":a[3]||(a[3]=o=>t.page=o),"total-items":t.total,"items-per-page":t.perPage,mode:"simple",onChange:x},{"prev-text":u(()=>[c(v,{name:"arrow-left"})]),"next-text":u(()=>[c(v,{name:"arrow"})]),_:1},8,["modelValue","total-items","items-per-page"])])):g("",!0)]),a[6]||(a[6]=s("div",{class:"ft-h"},null,-1)),c(D,{active:"trade"})])])}}},Hs=N(Is,[["__scopeId","data-v-b5248252"]]);export{Hs as default};
