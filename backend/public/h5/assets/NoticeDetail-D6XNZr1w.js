import{_ as a,l as e,A as s,at as t,z as l,L as i}from"./index-Sm2rxOHe.js";import{B as n}from"./index-7etSgMpZ.js";import{r as o,o as c,L as d,O as r,f as v,P as u,z as p,k as m,R as g,m as y,$ as _,Q as f,l as b,S as k}from"./vue-vendor-C3e-Kb3Z.js";import"./use-route-BAW5XLj3.js";const w={class:"page-wrapper"},x={class:"page-wrapper-body"},j={class:"page-wrapper-header"},z={class:"title"},h={class:"content-section"},D={key:1,class:"error-box"},C={key:2,class:"notice-detail"},I={class:"notice-detail-title"},L={key:0,class:"notice-detail-content"},N={key:1,class:"notice-detail-empty"},O=a(Object.assign({name:"NoticeDetailPage"},{__name:"NoticeDetail",setup(a){const{t:O}=e.global,P=f(),q=_(),A=o(null),B=o(!1),Q=o(""),R=async()=>{const a=q.query.id;if(a){B.value=!0,Q.value="";try{const e=await t({id:a});1===e?.code&&e?.data?A.value=e.data:Q.value=e?.msg||O("common.get_notice_detail_failed")||"获取公告详情失败"}catch(e){Q.value=e?.msg||e?.message||O("common.get_notice_detail_failed")||"获取公告详情失败",l(Q.value)}finally{B.value=!1}}else Q.value=O("notice.missing_id")||"缺少公告ID"},S=()=>{P.back()};return c(()=>{R()}),(a,e)=>{const t=s,l=i,o=n;return b(),d("div",w,[e[0]||(e[0]=r("div",{class:"page-bg"},null,-1)),e[1]||(e[1]=r("div",{class:"page-mask"},null,-1)),r("div",x,[r("div",j,[r("div",{class:"icon-box",onClick:S},[v(t,{name:"arrow-left",size:"20"})]),r("div",z,u(p(O)("notice.detail")||"公告详情"),1)]),r("div",h,[B.value?(b(),m(l,{key:0,type:"spinner",vertical:"",class:"loading-box"},{default:y(()=>[k(u(p(O)("notice.loading")||"加载中..."),1)]),_:1})):Q.value?(b(),d("div",D,[v(t,{name:"warning-o",size:"40"}),r("p",null,u(Q.value),1),v(o,{type:"primary",size:"small",onClick:R},{default:y(()=>[k(u(p(O)("notice.retry")||"重试"),1)]),_:1})])):A.value?(b(),d("div",C,[r("h1",I,u(A.value.title),1),A.value.content?(b(),d("div",L,u(A.value.content),1)):(b(),d("div",N,u(p(O)("notice.no_content")||"暂无内容"),1))])):g("",!0)])])])}}}),[["__scopeId","data-v-abb93252"]]);export{O as default};
