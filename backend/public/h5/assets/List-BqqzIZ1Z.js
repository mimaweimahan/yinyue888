import{_ as a,l as s,A as e,L as t,F as l,s as i,D as o,B as d,I as r,C as n,y as c,z as p}from"./index-Sm2rxOHe.js";import{P as v}from"./index-BRquVa0j.js";import{B as g}from"./index-7etSgMpZ.js";import{v as u,o as m,L as f,O as _,f as b,P as k,z as y,R as h,N as x,F as w,M as L,m as F,Q as $,l as C,S as P}from"./vue-vendor-C3e-Kb3Z.js";import"./use-route-BAW5XLj3.js";const j={class:"page-wrapper"},z={class:"page-wrapper-body"},V={class:"page-wrapper-header"},B={class:"title"},D={class:"stats-section"},I={class:"stats-grid"},q={class:"stat-card"},A={class:"stat-value highlight"},H={class:"stat-label"},M={class:"stat-card"},N={class:"stat-value"},O={class:"stat-label"},Q={class:"stat-card"},R={class:"stat-value"},S={class:"stat-label"},U={class:"stat-card"},E={class:"stat-value"},G={class:"stat-label"},J={class:"orders-section"},K={class:"tabnav"},T={class:"list"},W={key:0,class:"state-box"},X={key:1,class:"state-box"},Y={class:"order-header"},Z={class:"order-label"},aa={class:"order-no"},sa={class:"goods-info"},ea={class:"goods-pic"},ta={class:"goods-detail"},la={class:"goods-title"},ia={class:"goods-num"},oa={class:"order-info"},da={class:"info-row"},ra={class:"info-label"},na={class:"info-value"},ca={class:"info-row"},pa={class:"info-label"},va={class:"info-value"},ga={class:"info-row"},ua={class:"info-label"},ma={class:"info-value profit"},fa={key:0,class:"info-row"},_a={class:"info-label warning"},ba={class:"info-value warning"},ka={class:"info-row"},ya={class:"info-label"},ha={class:"info-value time"},xa={key:0,class:"order-action"},wa={key:0,class:"page-box"},La=a({__name:"List",setup(a){const La=$(),{t:Fa}=s.global,$a=u({listLoading:!1,loading:!1,orderList:[],total:0,page:1,perPage:10,type:0,task:{task_revenue:0,total_revenue:0,been_released:0,be_released:"0.0000"}}),Ca=a=>{$a.page=1,$a.type=a,ja()},Pa=()=>{ja()},ja=()=>{let a={type:$a.type,page:$a.page};$a.listLoading=!0,o(a).then(a=>{$a.listLoading=!1,$a.orderList=a.data.data,$a.perPage=a.data.per_page,$a.total=a.data.total,$a.current_page=a.data.current_page}).catch(a=>{$a.listLoading=!1})},za=()=>{i().then(a=>{$a.task=a.data}),ja()};return m(()=>{za()}),(a,s)=>{const i=e,o=t,u=r,m=g,$=v;return C(),f("div",j,[s[7]||(s[7]=_("div",{class:"page-bg"},null,-1)),s[8]||(s[8]=_("div",{class:"page-mask"},null,-1)),_("div",z,[_("section",V,[b(i,{name:"arrow-left",class:"icon-box",size:"18",onClick:s[0]||(s[0]=a=>{La.back()})}),_("div",B,[_("span",null,k(y(Fa)("trade.records")),1)])]),_("section",D,[_("div",I,[_("div",q,[_("div",A,"$"+k(parseFloat($a.task?.task_revenue??0).toFixed(2)),1),_("div",H,k(y(Fa)("trade.this_income")),1)]),_("div",M,[_("div",N,"$"+k(parseFloat($a.task?.total_revenue??0).toFixed(2)),1),_("div",O,k(y(Fa)("trade.list.total_revenue")),1)]),_("div",Q,[_("div",R,"$"+k(parseFloat($a.task?.been_released??0).toFixed(2)),1),_("div",S,k(y(Fa)("trade.list.been_released")),1)]),_("div",U,[_("div",E,"$"+k(parseFloat($a.task?.be_released??0).toFixed(2)),1),_("div",G,k(y(Fa)("trade.list.be_released")),1)])])]),_("section",J,[_("div",K,[_("button",{class:x(["tab_item",{check:0==$a.type}]),onClick:s[1]||(s[1]=a=>Ca(0))},k(y(Fa)("trade.list.atv")),3),_("button",{class:x(["tab_item",{check:1==$a.type}]),onClick:s[2]||(s[2]=a=>Ca(1))},k(y(Fa)("trade.list.exp")),3)]),_("div",T,[$a.listLoading?(C(),f("div",W,[b(o,{size:"28",color:"#1ed760"})])):0==$a.orderList.length?(C(),f("div",X,[_("span",null,k(y(Fa)("common.norecord")),1)])):(C(!0),f(w,{key:2},L($a.orderList,(a,e)=>(C(),f("div",{key:e,class:"order-card"},[_("div",Y,[_("span",Z,k(y(Fa)("trade.list.orderno")),1),_("span",aa,k(a.trade_no),1)]),_("div",sa,[_("div",ea,[b(u,{src:y(d)(a.image),fit:"cover"},null,8,["src"])]),_("div",ta,[_("div",la,k(a.goods_name),1),_("div",ia,[s[4]||(s[4]=P("x ",-1)),_("span",null,k(a.num),1)])])]),_("div",oa,[_("div",da,[_("span",ra,k(y(Fa)("trade.list.amount")),1),_("span",na,"$"+k(a.price),1)]),_("div",ca,[_("span",pa,k(y(Fa)("trade.list.total_amount")),1),_("span",va,"$"+k(a.total_price),1)]),_("div",ga,[_("span",ua,k(y(Fa)("trade.list.profit")),1),_("span",ma,"$"+k(a.profit),1)]),a.need<0&&0==$a.type?(C(),f("div",fa,[_("span",_a,k(y(Fa)("trade.list.need")),1),_("span",ba,"$"+k(a.need),1)])):h("",!0),_("div",ka,[_("span",ya,k(y(Fa)("trade.list.created_time")),1),_("span",ha,k(a.created_at),1)])]),s[5]||(s[5]=_("div",{class:"order-status"},[_("img",{src:"/h5/assets/ico_succ-DvoHvynf.png",alt:"success"})],-1)),0==a.is_ready&&0==a.status?(C(),f("div",xa,[b(m,{class:"finish-btn",type:"primary",loading:$a.loading,onClick:s=>{return e=a.id,$a.loading=!0,void n({order_id:e}).then(a=>{$a.loading=!1,$a.task=a.data,c(Fa("trade.success")),za()}).catch(a=>{$a.loading=!1,p(a.msg)});var e}},{default:F(()=>[P(k(y(Fa)("trade.list.finish")),1)]),_:1},8,["loading","onClick"])])):h("",!0)]))),128))]),$a.total>$a.perPage?(C(),f("div",wa,[b($,{modelValue:$a.page,"onUpdate:modelValue":s[3]||(s[3]=a=>$a.page=a),"total-items":$a.total,"items-per-page":$a.perPage,mode:"simple",onChange:Pa},{"prev-text":F(()=>[b(i,{name:"arrow-left"})]),"next-text":F(()=>[b(i,{name:"arrow"})]),_:1},8,["modelValue","total-items","items-per-page"])])):h("",!0)]),s[6]||(s[6]=_("div",{class:"ft-h"},null,-1)),b(l,{active:"trade"})])])}}},[["__scopeId","data-v-16a28b14"]]);export{La as default};
