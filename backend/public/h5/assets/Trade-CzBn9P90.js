import{t as a,m as e,n as t,c as s,u as i,a as l,b as o,d as n,o as r,e as c,i as u,f as d,g as v,w as p,h as g,p as m,j as h,k as b,_ as f,l as w,q as k,L as y,F as _,P as x,r as M,s as C,v as S,x as j,y as N,z as T,I as z,A as I,B as $,C as A}from"./index-Sm2rxOHe.js";import{B as F}from"./index-7etSgMpZ.js";import{d as q,r as E,v as D,c as P,w as B,o as Y,y as X,u as R,D as O,f as U,x as G,b as W,L as H,l as L,U as V,O as Q,R as Z,P as J,z as K,m as aa,N as ea,Y as ta,Q as sa,F as ia,M as la,k as oa,G as na,Z as ra,S as ca}from"./vue-vendor-C3e-Kb3Z.js";import{u as ua}from"./useTimer-Cu50OUA5.js";import"./use-route-BAW5XLj3.js";const[da,va]=s("swipe"),pa={loop:a,width:t,height:t,vertical:Boolean,autoplay:e(0),duration:e(500),touchable:a,lazyRender:Boolean,initialSwipe:e(0),indicatorColor:String,showIndicators:a,stopPropagation:a},ga=Symbol(da);const ma=h(q({name:da,props:pa,emits:["change","dragStart","dragEnd"],setup(a,{emit:e,slots:t}){const s=E(),h=E(),b=D({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let f=!1;const w=i(),{children:k,linkChildren:y}=l(ga),_=P(()=>k.length),x=P(()=>b[a.vertical?"height":"width"]),M=P(()=>a.vertical?w.deltaY.value:w.deltaX.value),C=P(()=>{if(b.rect){return(a.vertical?b.rect.height:b.rect.width)-x.value*_.value}return 0}),S=P(()=>x.value?Math.ceil(Math.abs(C.value)/x.value):_.value),j=P(()=>_.value*x.value),N=P(()=>(b.active+_.value)%_.value),T=P(()=>{const e=a.vertical?"vertical":"horizontal";return w.direction.value===e}),z=P(()=>{const e={transitionDuration:`${b.swiping?0:a.duration}ms`,transform:`translate${a.vertical?"Y":"X"}(${+b.offset.toFixed(2)}px)`};if(x.value){const t=a.vertical?"height":"width",s=a.vertical?"width":"height";e[t]=`${j.value}px`,e[s]=a[s]?`${a[s]}px`:""}return e}),I=(e,t=0)=>{let s=e*x.value;a.loop||(s=Math.min(s,-C.value));let i=t-s;return a.loop||(i=d(i,C.value,0)),i},$=({pace:t=0,offset:s=0,emitChange:i})=>{if(_.value<=1)return;const{active:l}=b,o=(e=>{const{active:t}=b;return e?a.loop?d(t+e,-1,_.value):d(t+e,0,S.value):t})(t),n=I(o,s);if(a.loop){if(k[0]&&n!==C.value){const a=n<C.value;k[0].setOffset(a?j.value:0)}if(k[_.value-1]&&0!==n){const a=n>0;k[_.value-1].setOffset(a?-j.value:0)}}b.active=o,b.offset=n,i&&o!==l&&e("change",N.value)},A=()=>{b.swiping=!0,b.active<=-1?$({pace:_.value}):b.active>=_.value&&$({pace:-_.value})},F=()=>{A(),w.reset(),v(()=>{b.swiping=!1,$({pace:1,emitChange:!0})})};let q;const W=()=>clearTimeout(q),H=()=>{W(),+a.autoplay>0&&_.value>1&&(q=setTimeout(()=>{F(),H()},+a.autoplay))},L=(e=+a.initialSwipe)=>{if(!s.value)return;const t=()=>{var t,i;if(!u(s)){const e={width:s.value.offsetWidth,height:s.value.offsetHeight};b.rect=e,b.width=+(null!=(t=a.width)?t:e.width),b.height=+(null!=(i=a.height)?i:e.height)}_.value&&-1===(e=Math.min(_.value-1,e))&&(e=_.value-1),b.active=e,b.swiping=!0,b.offset=I(e),k.forEach(a=>{a.setOffset(0)}),H()};u(s)?G().then(t):t()},V=()=>L(b.active);let Q;const Z=e=>{!a.touchable||e.touches.length>1||(w.start(e),f=!1,Q=Date.now(),W(),A())},J=()=>{if(!a.touchable||!b.swiping)return;const t=Date.now()-Q,s=M.value/t;if((Math.abs(s)>.25||Math.abs(M.value)>x.value/2)&&T.value){const e=a.vertical?w.offsetY.value:w.offsetX.value;let t=0;t=a.loop?e>0?M.value>0?-1:1:0:-Math[M.value>0?"ceil":"floor"](M.value/x.value),$({pace:t,emitChange:!0})}else M.value&&$({pace:0});f=!1,b.swiping=!1,e("dragEnd",{index:N.value}),H()},K=(e,t)=>{const s=t===N.value,i=s?{backgroundColor:a.indicatorColor}:void 0;return U("i",{style:i,class:va("indicator",{active:s})},null)};return o({prev:()=>{A(),w.reset(),v(()=>{b.swiping=!1,$({pace:-1,emitChange:!0})})},next:F,state:b,resize:V,swipeTo:(e,t={})=>{A(),w.reset(),v(()=>{let s;s=a.loop&&e===_.value?0===b.active?0:e:e%_.value,t.immediate?v(()=>{b.swiping=!1}):b.swiping=!1,$({pace:s-b.active,emitChange:!0})})}}),y({size:x,props:a,count:_,activeIndicator:N}),B(()=>a.initialSwipe,a=>L(+a)),B(_,()=>L(b.active)),B(()=>a.autoplay,H),B([p,g,()=>a.width,()=>a.height],V),B(n(),a=>{"visible"===a?H():W()}),Y(L),X(()=>L(b.active)),r(()=>L(b.active)),R(W),O(W),c("touchmove",t=>{if(a.touchable&&b.swiping&&(w.move(t),T.value)){!a.loop&&(0===b.active&&M.value>0||b.active===_.value-1&&M.value<0)||(m(t,a.stopPropagation),$({offset:M.value}),f||(e("dragStart",{index:N.value}),f=!0))}},{target:h}),()=>{var e;return U("div",{ref:s,class:va()},[U("div",{ref:h,style:z.value,class:va("track",{vertical:a.vertical}),onTouchstartPassive:Z,onTouchend:J,onTouchcancel:J},[null==(e=t.default)?void 0:e.call(t)]),t.indicator?t.indicator({active:N.value,total:_.value}):a.showIndicators&&_.value>1?U("div",{class:va("indicators",{vertical:a.vertical})},[Array(_.value).fill("").map(K)]):void 0])}}})),[ha,ba]=s("swipe-item");const fa=h(q({name:ha,setup(a,{slots:e}){let t;const s=D({offset:0,inited:!1,mounted:!1}),{parent:i,index:l}=b(ga);if(!i)return;const n=P(()=>{const a={},{vertical:e}=i.props;return i.size.value&&(a[e?"height":"width"]=`${i.size.value}px`),s.offset&&(a.transform=`translate${e?"Y":"X"}(${s.offset}px)`),a}),r=P(()=>{const{loop:a,lazyRender:e}=i.props;if(!e||t)return!0;if(!s.mounted)return!1;const o=i.activeIndicator.value,n=i.count.value-1,r=0===o&&a?n:o-1,c=o===n&&a?0:o+1;return t=l.value===o||l.value===r||l.value===c,t});return Y(()=>{G(()=>{s.mounted=!0})}),o({setOffset:a=>{s.offset=a}}),()=>{var a;return U("div",{class:ba(),style:n.value},[r.value?null==(a=e.default)?void 0:a.call(e):null])}}})),wa=["id","width","height"],ka={__name:"Fireworks",props:{particleCount:{type:[Number,String],default:200},angle:{type:[Number,String],default:80},spread:{type:[Number,String],default:100},startVelocity:{type:[Number,String],default:80},decay:{type:[Number,String],default:.7},ticks:{type:[Number,String],default:1e3},zIndex:{type:[Number,String],default:999999},colors:{type:Array,default:()=>["#5BC0EB","#2176AE","#FDE74C","#9BC53D","#E55934","#FA7921","#FF4242"]},canvasId:{type:String,default:"fireCanvas"},width:{type:[Number,String],default:()=>window.innerWidth},height:{type:[Number,String],default:()=>window.innerHeight},x:{type:[Number,String],default:()=>window.innerWidth/2},y:{type:[Number,String],default:()=>.4*window.innerHeight}},setup(a,{expose:e}){const t=a,s=E(null),i=E(null),l=E(null),o=E(window.devicePixelRatio||1),n=P(()=>Number(t.particleCount)),r=P(()=>Number(t.angle)),c=P(()=>Number(t.spread)),u=P(()=>Number(t.startVelocity)),d=P(()=>Number(t.decay)),v=P(()=>Number(t.ticks)),p=P(()=>Number(t.zIndex)),g=P(()=>Number(t.x)),m=P(()=>Number(t.y)),h=P(()=>Number(t.width)*o.value),b=P(()=>Number(t.height)*o.value),f=a=>parseInt(a,16),w=()=>{if(!i.value)return;const a=[];for(let s=0;s<n.value;s++){const e=r.value*(Math.PI/180),i=c.value*(Math.PI/180);let l=t.colors[s%t.colors.length];l=l.replace(/[^0-9a-f]/gi,""),l.length<6&&(l=l[0]+l[0]+l[1]+l[1]+l[2]+l[2]);const o={r:f(l.substring(0,2)),g:f(l.substring(2,4)),b:f(l.substring(4,6))};a.push({x:g.value,y:m.value,depth:.5*Math.random()+.6,wobble:10*Math.random(),velocity:.5*u.value+Math.random()*u.value,angle2D:-e+(.5*i-Math.random()*i),tiltAngle:Math.random()*Math.PI,color:o,tick:0,totalTicks:v.value,decay:d.value,random:Math.random()+5,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0})}const e=()=>{if(!i.value)return;i.value.clearRect(0,0,Number(t.width),Number(t.height));a.filter(a=>{a.x+=Math.cos(a.angle2D)*a.velocity,a.y+=Math.sin(a.angle2D)*a.velocity+5*a.depth,a.wobble+=.1,a.velocity*=a.decay,a.tiltAngle+=.02*Math.random()+.12,a.tiltSin=Math.sin(a.tiltAngle),a.tiltCos=Math.cos(a.tiltAngle),a.random=Math.random()+4,a.wobbleX=a.x+10*Math.cos(a.wobble)*a.depth,a.wobbleY=a.y+10*Math.sin(a.wobble)*a.depth;const e=1-a.tick++/a.totalTicks;return i.value.fillStyle=`rgba(${a.color.r}, ${a.color.g}, ${a.color.b}, ${e})`,i.value.beginPath(),i.value.moveTo(Math.floor(a.x),Math.floor(a.y)),i.value.lineTo(Math.floor(a.wobbleX),Math.floor(a.y+a.random*a.tiltSin)),i.value.lineTo(Math.floor(a.wobbleX+a.random*a.tiltCos),Math.floor(a.wobbleY+a.random*a.tiltSin)),i.value.lineTo(Math.floor(a.x+a.random*a.tiltCos),Math.floor(a.wobbleY)),i.value.closePath(),i.value.fill(),a.tick<a.totalTicks}).length>0&&(l.value=requestAnimationFrame(e))};l.value=requestAnimationFrame(e)};return W(()=>{l.value&&cancelAnimationFrame(l.value)}),e({startFireworks:()=>{s.value=document.getElementById(t.canvasId),s.value&&(i.value=s.value.getContext("2d"),s.value.width=h.value,s.value.height=b.value,i.value.scale(o.value,o.value),w())}}),(e,t)=>(L(),H("canvas",{id:a.canvasId,width:h.value,height:b.value,style:V({position:"fixed",top:0,left:0,pointerEvents:"none",zIndex:p.value})},null,12,wa))}},ya={class:"trade-page"},_a={class:"trade-main"},xa={class:"top-nav"},Ma={key:0,class:"banner-swipe-wrapper"},Ca={class:"banner-card"},Sa={key:0,class:"banner-overlay"},ja={key:0,class:"banner-title"},Na={key:1,class:"banner-desc"},Ta={class:"glass-card-content"},za={class:"stat-row income-row"},Ia={class:"stat-info"},$a={class:"stat-label"},Aa={class:"stat-desc"},Fa={class:"stat-amount"},qa={key:0,class:"music-eq"},Ea={class:"stat-row balance-row"},Da={class:"stat-info"},Pa={class:"stat-label"},Ba={class:"stat-desc"},Ya={class:"stat-amount"},Xa={class:"amount-value"},Ra=["disabled"],Oa={class:"btn-content"},Ua={class:"btn-text"},Ga={class:"btn-count"},Wa={key:0,class:"btn-loading"},Ha={class:"success-popup-main"},La={class:"success-right"},Va={class:"success-title"},Qa={key:0,class:"success-profit"},Za={class:"profit-label"},Ja={class:"profit-value"},Ka={class:"task-popup-main"},ae={class:"popup-header"},ee={class:"popup-title"},te={class:"task-popup-content"},se={class:"album-section"},ie={class:"album-cover"},le={class:"album-info"},oe={class:"album-artist"},ne={class:"album-title"},re={class:"financial-section"},ce={class:"financial-item"},ue={class:"financial-label"},de={class:"financial-value"},ve={class:"financial-item"},pe={class:"financial-label"},ge={class:"financial-value"},me={class:"financial-item"},he={class:"financial-label"},be={class:"financial-value"},fe={class:"rating-section"},we={class:"rating-item"},ke={class:"rating-label"},ye={class:"star-rating"},_e=["onClick"],xe={class:"rating-item"},Me={class:"rating-label"},Ce={class:"star-rating"},Se=["onClick"],je={class:"comment-section"},Ne={class:"comment-label"},Te=["placeholder"],ze={class:"btn-box"},Ie=f({__name:"Trade",setup(a){const e=sa(),{t:t}=w.global,s=D({wallet:{},loading:!1,task:{task_num:0,task_done:0,task_rate:0,task_revenue:"0.0000",credit_tips:"Good credit score"},task_popup_show:!1,success_popup_show:!1,order:{order_id:0,trade_no:"",goods_name:"",goods_pic:"",goods_price:"",goods_num:"",total_price:"",profit:"",created_at:"",is_ready:0,need:0,deposit:"0"},rating:{musician:0,singer:0},comment:""}),i=E(!1),l=E(0),o=E(null),n=E(0),r=E([{image:"/images/lunbo/u5hietn9y7.jpg",title:"",desc:""},{image:"/images/lunbo/oailwkio0c.jpg",title:"",desc:""},{image:"/images/lunbo/krp576i8uz.jpg",title:"",desc:""},{image:"/images/lunbo/l04q2yroz3.jpg",title:"",desc:""},{image:"/images/lunbo/z97v7094fx.jpg",title:"",desc:""},{image:"/images/lunbo/otyj0bggcl.jpg",title:"",desc:""},{image:"/images/lunbo/v2lwhucf49.jpg",title:"",desc:""},{image:"/images/lunbo/tfg23xlo8h.jpg",title:"",desc:""},{image:"/images/lunbo/qbpf6271xg.jpg",title:"",desc:""},{image:"/images/lunbo/t4r9xsziox.jpg",title:"",desc:""},{image:"/images/lunbo/zgm04id5rx.jpg",title:"",desc:""},{image:"/images/lunbo/xlgewv2u0i.jpg",title:"",desc:""},{image:"/images/lunbo/l3isxhis2l.jpg",title:"",desc:""},{image:"/images/lunbo/rkko4ie6gf.jpg",title:"",desc:""},{image:"/images/lunbo/s83isylilo.jpg",title:"",desc:""},{image:"/images/lunbo/r9b6yhyrm1.jpg",title:"",desc:""},{image:"/images/lunbo/qw5s72zwe3.jpg",title:"",desc:""},{image:"/images/lunbo/tk5oa8o11n.jpg",title:"",desc:""},{image:"/images/lunbo/oz3ww6qj9n.jpg",title:"",desc:""},{image:"/images/lunbo/37tujixej0.jpg",title:"",desc:""}]),c=a=>{n.value=a,u(a)},u=a=>{const e=r.value;if(!e||0===e.length)return;const t=a>0?a-1:e.length-1,s=a<e.length-1?a+1:0,i=a=>{if(!a)return;(new Image).src=a};e[t]?.image&&i(e[t].image),e[s]?.image&&i(e[s].image)},d=a=>{},v=a=>{},p=a=>"function"==typeof requestAnimationFrame?requestAnimationFrame(a):setTimeout(a,16),g=()=>{o.value&&clearTimeout(o.value),i.value=!1,p(()=>{p(()=>{i.value=!0,o.value=setTimeout(()=>{i.value=!1},1600)})})},m=()=>{e.push("/list")},h=()=>{s.loading||(s.loading=!0,S({message:t("trade.search"),forbidClick:!0,duration:1200}),j().then(a=>{if(s.order=a.data,void 0!==s.order.need&&null!==s.order.need){const a=parseFloat(s.order.need)||0;s.order.deposit=String(a<0?Math.abs(a):a)}else s.order.deposit="0";setTimeout(()=>{s.loading=!1,N({message:t("trade.trading"),duration:1200})},800),setTimeout(()=>{s.rating.musician=0,s.rating.singer=0,s.comment="",s.task_popup_show=!0,f.value&&s.order.need<0&&f.value.startFireworks()},1400)}).catch(a=>{s.loading=!1,T(a.msg)}))},b=()=>{M().then(a=>{s.wallet=a.data}),C().then(a=>{s.task=a.data,(a=>{const e=parseFloat(a)||0;e>l.value&&g(),l.value=e})(a.data?.task_revenue)})},f=E(null),{start:q,stop:P}=ua(()=>{b()},8e3,"trade_timerId");return Y(()=>{b(),q()}),W(()=>{P()}),(a,e)=>{const l=z,o=fa,u=ma,p=y,w=x,M=I,C=F;return L(),H("div",ya,[e[14]||(e[14]=Q("div",{class:"trade-bg-blur"},null,-1)),e[15]||(e[15]=Q("div",{class:"trade-bg-mask"},null,-1)),Q("div",_a,[Q("div",xa,[e[5]||(e[5]=Q("div",{class:"nav-left"},null,-1)),Q("button",{class:"records-3d-btn",onClick:m},J(K(t)("trade.records")||"订单记录"),1)]),r.value.length>0?(L(),H("div",Ma,[U(u,{class:"banner-swipe",autoplay:4e3,"show-indicators":!0,"indicator-color":"rgba(255, 255, 255, 0.3)","indicator-color-active":"#11b411","lazy-render":!0,onChange:c},{default:aa(()=>[(L(!0),H(ia,null,la(r.value,(a,e)=>(L(),oa(o,{key:e,class:ea(["banner-item",{active:n.value===e}])},{default:aa(()=>[Q("div",Ca,[U(l,{src:a.image,fit:"contain",class:"banner-image",alt:a.title||a.name||"","show-loading":!0,"show-error":!0,"loading-icon":"photo","error-icon":"photo-fail",onLoad:d,onError:v},null,8,["src","alt"]),a.title||a.desc?(L(),H("div",Sa,[a.title?(L(),H("div",ja,J(a.title),1)):Z("",!0),a.desc?(L(),H("div",Na,J(a.desc),1)):Z("",!0)])):Z("",!0)])]),_:2},1032,["class"]))),128))]),_:1})])):Z("",!0),Q("div",{class:ea(["glass-stats-card",{"income-beat":i.value}])},[Q("div",Ta,[Q("div",za,[Q("div",Ia,[Q("div",$a,J(K(t)("trade.today_income")||"Today's Income"),1),Q("div",Aa,J(K(t)("trade.auto_update")||"Auto updated daily"),1)]),Q("div",Fa,[Q("span",{class:ea(["amount-value",{"income-beat":i.value}])}," $"+J(K(k)(s.task?.task_revenue)),3),e[7]||(e[7]=Q("span",{class:"amount-unit"},"USD",-1)),i.value?(L(),H("div",qa,[...e[6]||(e[6]=[ta('<span class="bar b1" data-v-5192b4b3></span><span class="bar b2" data-v-5192b4b3></span><span class="bar b3" data-v-5192b4b3></span><span class="bar b4" data-v-5192b4b3></span><span class="bar b5" data-v-5192b4b3></span>',5)])])):Z("",!0)])]),e[9]||(e[9]=Q("div",{class:"stat-divider"},null,-1)),Q("div",Ea,[Q("div",Da,[Q("div",Pa,J(K(t)("trade.balance")||"Account Balance"),1),Q("div",Ba,J(K(t)("trade.balance_tip")||"Total assets balance"),1)]),Q("div",Ya,[Q("span",Xa," $"+J(K(k)(s.wallet?.balance??s.wallet?.total_balance)),1),e[8]||(e[8]=Q("span",{class:"amount-unit"},"USD",-1))])])])],2),Q("button",{class:ea(["main-btn premium-btn",{loading:s.loading}]),disabled:s.loading,onClick:h},[Q("span",Oa,[Q("span",Ua,J(K(t)("trade.start")||"Single Start Matching"),1),Q("span",Ga,"("+J(s.task?.task_done||0)+"/"+J(s.task?.task_num||0)+")",1)]),e[10]||(e[10]=Q("div",{class:"btn-glow"},null,-1)),s.loading?(L(),H("div",Wa,[U(p,{size:"20",color:"#11b411"})])):Z("",!0)],10,Ra),e[12]||(e[12]=Q("div",{class:"bottom-eq"},[Q("img",{src:"/h5/order_files/W11.gif",alt:"eq"})],-1)),e[13]||(e[13]=Q("div",{class:"ft-h"},null,-1)),U(_,{active:"trade"}),U(w,{show:s.success_popup_show,"onUpdate:show":e[0]||(e[0]=a=>s.success_popup_show=a),"close-on-click-overlay":!0,"close-on-popstate":!1,"lock-scroll":"",class:"success-popup"},{default:aa(()=>[Q("div",Ha,[e[11]||(e[11]=Q("div",{class:"success-left"},[Q("div",{class:"success-icon"},[Q("div",{class:"success-checkmark"},[Q("div",{class:"checkmark-circle"}),Q("div",{class:"checkmark-stem"}),Q("div",{class:"checkmark-kick"})])])],-1)),Q("div",La,[Q("div",Va,J(K(t)("trade.success")||"交易成功"),1),s.order?.profit?(L(),H("div",Qa,[Q("span",Za,J(K(t)("trade.list.profit")||"预计收益")+"：",1),Q("span",Ja,"$"+J(s.order.profit),1)])):Z("",!0)])])]),_:1},8,["show"]),U(w,{show:s.task_popup_show,"onUpdate:show":e[4]||(e[4]=a=>s.task_popup_show=a),"close-on-click-overlay":!1,"close-on-popstate":!1,"lock-scroll":"",class:"task-popup"},{default:aa(()=>[Q("div",Ka,[Q("div",ae,[Q("div",ee,J(K(t)("trade.purchase_album")||"购买专辑:"),1),U(M,{name:"cross",class:"close-icon",onClick:e[1]||(e[1]=a=>(s.rating.musician=0,s.rating.singer=0,s.comment="",b(),void(s.task_popup_show=!1)))})]),Q("div",te,[Q("div",se,[Q("div",ie,[U(l,{src:K($)(s.order?.goods_pic),fit:"cover"},null,8,["src"])]),Q("div",le,[Q("div",oe,J(K(t)("trade.album_artist")||"SEGRETO"),1),Q("div",ne,J(s.order?.goods_name||"Give Me A Chance"),1)])]),Q("div",re,[Q("div",ce,[Q("div",ue,J(K(t)("trade.list.total_amount")||"订单金额"),1),Q("div",de,"$"+J(s.order?.total_price||"0.00"),1)]),Q("div",ve,[Q("div",pe,J(K(t)("trade.deposit")||"存款"),1),Q("div",ge,"$"+J(s.order?.deposit||"0"),1)]),Q("div",me,[Q("div",he,J(K(t)("trade.list.profit")||"订单利润"),1),Q("div",be,"$"+J(s.order?.profit||"0.00"),1)])]),Q("div",fe,[Q("div",we,[Q("div",ke,J(K(t)("trade.musician")||"音乐家"),1),Q("div",ye,[(L(),H(ia,null,la(5,(a,e)=>Q("span",{key:e,class:ea(["star",{active:e<s.rating.musician}]),onClick:a=>s.rating.musician=e+1}," ★ ",10,_e)),64))])]),Q("div",xe,[Q("div",Me,J(K(t)("trade.singer")||"歌手"),1),Q("div",Ce,[(L(),H(ia,null,la(5,(a,e)=>Q("span",{key:e,class:ea(["star",{active:e<s.rating.singer}]),onClick:a=>s.rating.singer=e+1}," ★ ",10,Se)),64))])])]),Q("div",je,[Q("div",Ne,J(K(t)("trade.song_review")||"歌曲评论"),1),na(Q("textarea",{"onUpdate:modelValue":e[2]||(e[2]=a=>s.comment=a),class:"comment-input",placeholder:K(t)("trade.comment_placeholder")||"Type here",rows:"2"},null,8,Te),[[ra,s.comment]])])]),Q("div",ze,[U(C,{class:"submit-btn",type:"primary",loading:s.loading,onClick:e[3]||(e[3]=a=>{return e=s.order?.order_id,void(5===s.rating.musician&&5===s.rating.singer?(s.loading=!0,A({order_id:e,musician_rating:s.rating.musician,singer_rating:s.rating.singer,comment:s.comment}).then(a=>{s.order=a.data,s.task_popup_show=!1,s.loading=!1,s.rating.musician=0,s.rating.singer=0,s.comment="",s.success_popup_show=!0,g(),b(),setTimeout(()=>{s.success_popup_show=!1},2e3)}).catch(a=>{s.loading=!1,T(a.msg)})):T(t("trade.rate_required")||"请点满5个星"));var e})},{default:aa(()=>[ca(J(K(t)("trade.submit")||"提交"),1)]),_:1},8,["loading"])])])]),_:1},8,["show"]),U(ka,{ref_key:"fireRef",ref:f},null,512)])])}}},[["__scopeId","data-v-5192b4b3"]]);export{Ie as default};
