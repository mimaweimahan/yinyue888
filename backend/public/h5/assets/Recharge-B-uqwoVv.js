import{_ as a,G as s,l as e,am as r,A as t,q as n,F as c,M as l,an as d}from"./index-Sm2rxOHe.js";import{B as o}from"./index-7etSgMpZ.js";import{r as i,c as u,v as m,w as p,o as h,L as v,O as _,f,P as y,z as g,m as b,G as k,Z as S,F as U,M as w,Q as C,l as x,S as D,x as j}from"./vue-vendor-C3e-Kb3Z.js";import{Q as T}from"./browser-dVmy-j2G.js";import"./use-route-BAW5XLj3.js";const q={class:"page-wrapper"},z={class:"page-wrapper-body"},I={class:"page-wrapper-header"},L={class:"title"},R={class:"recharge"},F={class:"balance-card"},G={class:"balance-info"},M={class:"label"},Q={class:"value"},A={class:"section"},B={class:"recharge-form"},O={class:"form-group"},P={class:"label-text"},V={class:"form-control"},Z=["placeholder"],E={class:"preset-grid"},H=["onClick"],J={class:"btns"},K={class:"tips"},N={class:"tit"},W={class:"lab"},X=a({__name:"Recharge",setup(a){const X=s(),{t:Y}=e.global,$=C(),aa=i(null),sa=()=>{$.push("/records")},ea=u(()=>X.userInfo?.balance||0),ra=[10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4];X.userInfo;const ta=i([]);i(!1),i(!1),i(!1);const na=m({list:[],currency:[],fileList:[],net:"",currency_name:",",address:"",qrCodeUrl:"",tips:"",address_type:"",transaction_hash:"",transfer_screenshot:"",amount:""});p(()=>na.address,()=>{na.address&&T.toDataURL(na.address,{width:200,margin:2}).then(a=>{na.qrCodeUrl=a})});const ca=()=>{const a=String(na.amount||"").trim();if(!a)return l(Y("recharge.amount_tip"));const s=na.address_type||na.currency_name||"USDT",e=na.currency_name||"USDT",r={address:na.address||"manual",address_type:s,symbol:e,amount:a,transaction_hash:na.transaction_hash||"manual",transfer_screenshot:na.transfer_screenshot||""};d(r).then(a=>{na.transaction_hash="",na.transfer_screenshot="",ta.value=[],l(a.msg),setTimeout(()=>la(),800)}).catch(a=>{l(a.msg||"Submit failed")})},la=()=>{$.push("/customer-service")};return h(()=>{r().then(a=>{const s=a?.data?.data||a?.data?.list||[];var e;na.list=s,na.tips=a?.data?.tips||"",s&&s.length?(e=s[0],na.address=e.address,e.currency?(na.currency=e.currency,na.address=e.currency[0].address,na.currency_name=e.currency[0].name):(na.currency=[],na.currency_name=e.name),na.address_type=e.name,na.net=e.name):(na.address=a?.data?.address||"",na.address_type=a?.data?.address_type||a?.data?.symbol||"USDT",na.currency_name=a?.data?.currency_name||a?.data?.symbol||"USDT")}).catch(a=>{})}),(a,s)=>{const e=t,r=o;return x(),v("div",q,[s[3]||(s[3]=_("div",{class:"page-bg"},null,-1)),s[4]||(s[4]=_("div",{class:"page-mask"},null,-1)),_("div",z,[_("section",I,[f(e,{name:"arrow-left",class:"icon-box",size:"18",onClick:s[0]||(s[0]=a=>{$.push("/user")})}),_("div",L,[_("span",null,y(g(Y)("mine.recharge")),1)])]),_("article",R,[_("div",F,[_("div",G,[_("div",M,y(g(Y)("mine.available"))+" (USD)",1),_("div",Q,y(g(n)(ea.value)),1)]),f(r,{size:"small",class:"record-btn",onClick:sa},{default:b(()=>[D(y(g(Y)("mine.records")),1)]),_:1})]),_("div",A,[_("div",B,[_("div",O,[_("div",P,y(g(Y)("recharge.amount")),1),_("div",V,[k(_("input",{ref_key:"amountRef",ref:aa,class:"amount-input",type:"number",inputmode:"decimal",pattern:"[0-9]*",step:"0.01","onUpdate:modelValue":s[1]||(s[1]=a=>na.amount=a),placeholder:g(Y)("recharge.amount_tip"),autocomplete:"off"},null,8,Z),[[S,na.amount]])])]),_("div",E,[(x(),v(U,null,w(ra,a=>_("button",{key:a,type:"button",class:"preset-btn",onClick:s=>{return e=a,na.amount=String(e),void j(()=>{aa.value&&aa.value.focus&&aa.value.focus()});var e}},y(a),9,H)),64))])]),_("div",J,[f(r,{class:"btn",type:"theme",block:"",onClick:ca},{default:b(()=>[D(y(g(Y)("recharge.submit_for_review")),1)]),_:1})]),_("div",K,[_("span",N,y(g(Y)("recharge.alarm",{unit:na.currency_name})),1),_("div",W,[_("p",null,y(na.tips),1),_("p",null,y(g(Y)("recharge.alarm_desc")),1),_("p",null,y(g(Y)("recharge.alarm_desc2")),1)])])])]),s[2]||(s[2]=_("div",{class:"ft-h"},null,-1)),f(c,{active:"user"})])])}}},[["__scopeId","data-v-4ac21c97"]]);export{X as default};
